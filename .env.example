# Phonox Environment Configuration Template
# Copy this file to .env and fill in your actual values
# WARNING: Never commit .env with real API keys to version control

# =====================================================
# ANTHROPIC API Configuration
# =====================================================
# Get your API key from: https://console.anthropic.com/account/keys
ANTHROPIC_API_KEY=sk-ant-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Vision model for image analysis of vinyl records
# Recommended: claude-sonnet-4-5-20250929 (best accuracy-speed balance)
# Alternative: claude-opus-4-1-20250805 (slower, higher accuracy)
ANTHROPIC_VISION_MODEL=claude-sonnet-4-5-20250929

# Chat model for conversational responses
# Recommended: claude-haiku-4-5-20251001 (fast, cost-effective)
# Alternative: claude-sonnet-4-5-20250929 (higher quality)
ANTHROPIC_CHAT_MODEL=claude-haiku-4-5-20251001

# =====================================================
# TAVILY API Configuration (Web Search)
# =====================================================
# Get your API key from: https://tavily.com
# Used for web search fallback when metadata lookup is uncertain
TAVILY_API_KEY=tvly-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =====================================================
# DATABASE Configuration
# =====================================================
# PostgreSQL database name
POSTGRES_DB=phonox

# PostgreSQL username
POSTGRES_USER=phonox

# PostgreSQL password (use strong password in production)
POSTGRES_PASSWORD=your_secure_password_here

# Full database connection URL
# Format: postgresql://username:password@host:port/database
# For Docker: postgresql://phonox:password@db:5432/phonox
# For local: postgresql://phonox:password@localhost:5432/phonox
DATABASE_URL=postgresql://phonox:your_secure_password_here@db:5432/phonox

# =====================================================
# DATABASE Connection Retry Configuration
# =====================================================
# Maximum number of connection attempts before failing
# Default: 5 (recommended for most deployments)
# Increase for slow database startup environments
DB_MAX_RETRIES=5

# Initial delay between retry attempts (seconds)
# Default: 2 (exponential backoff: 2 -> 4 -> 8 -> 16 -> 30)
# Increase to give database more time between connection attempts
DB_RETRY_DELAY=2

# Maximum delay between retry attempts (seconds)
# Default: 30 (caps the exponential backoff)
# Increase for very slow database startup
DB_MAX_RETRY_DELAY=30

# =====================================================
# WEB Search & Scraping Configuration
# =====================================================
# Timeout for web scraping requests (seconds)
# Default: 10 (good balance between timeout risk and response time)
# Increase if you have slow internet or want to scrape more content
# Decrease if you want faster responses but less content
WEB_SCRAPING_TIMEOUT=10

# Maximum number of URLs to scrape per web search
# Default: 3 (balances content depth with response time)
# Increase for more comprehensive searches (slower response)
# Decrease for faster responses with less detail
WEB_SCRAPING_MAX_URLS=3

# =====================================================
# CLAUDE API Configuration
# =====================================================
# Timeout for Claude API calls (seconds)
# Default: 60 (good for complex vision analysis with chain-of-thought)
# Increase if you get timeout errors on complex images
# Decrease if you want faster failures (but may lose results)
CLAUDE_API_TIMEOUT=60

# =====================================================
# FRONTEND Configuration
# =====================================================
# Backend API URL for frontend requests
# Leave empty for auto-detection (uses same IP/host as frontend)
# Examples:
#   - http://localhost:8000 (local development)
#   - http://backend:8000 (Docker environment)
#   - https://api.example.com (production)
VITE_API_URL=

# Frontend polling interval (milliseconds)
# How often the frontend polls for job status updates
# Default: 2000 (2 seconds)
VITE_POLL_INTERVAL=2000

# Frontend environment
# Options: development, staging, production
# Default: development
VITE_ENV=development

# =====================================================
# BACKEND Configuration
# =====================================================
# Prevent Python from writing .pyc files
PYTHONDONTWRITEBYTECODE=1

# Ensure Python output is sent straight to logs without buffering
PYTHONUNBUFFERED=1

# =====================================================
# OPTIONAL: Additional Configuration
# =====================================================
# Environment: development, staging, production
# NODE_ENV=development

# Enable debug logging
# DEBUG=false

# Log level: debug, info, warning, error
# LOG_LEVEL=info
